# [643. 子数组最大平均数 I](https://leetcode.cn/problems/maximum-average-subarray-i/description/)

题目：

给你一个由 n 个元素组成的整数数组 nums 和一个整数 k 。
请你找出平均数最大且 长度为 k 的连续子数组，并输出该最大平均数。
任何误差小于 10-5 的答案都将被视为正确答案。[_难度很低，和模板题差不多书写格式_](../../README.md#一-定长滑动窗口)

* _n == nums.length_
* _1 <= k <= n <= 10^5_
* _-10^4 <= nums[i] <= 10^4_

示例1
---
    输入: nums = [1,12,-5,-6,50,3], k = 4
    输出：12.75
    解释：最大平均数 (12-5-6+50)/4 = 51/4 = 12.75


``` python
def findMaxAverage(self, nums: List[int], k: int) -> float:
    '''
     首先定义右界以及最终返回的值
    ''' 
    ans = vowel = 0

    # 开始遍历数组
    for i, num in enumerate(nums):
        '''
        牢记 enumerate(iterable, start=0) 函数的用法， 是一个非常好用的构造带序号的元组的函数
        '''

        vowel += num

        # 首先进入窗口中

        # 计算 left 以判断窗口是否已满
        left = i - k + 1

        if left < 0:
            continue
        
        # 这个位置要防止当 vowel 值为负数的情况，因此加一层判断
        if k == 0 and vowel < 0:
            ans = vowel / k
        '''
        这里注意 python3 的 / 符号和 // 符号的区别
        / 符号： 总是返回一个浮点数（即使两个操作数都是整数）
        // 符号： 返回商的整数部分，向下取整（即舍弃小数部分），结果始终是整数类型（Python 3 中为 int 类型）
        '''
        else:
            ans = max(ans, vowel / k)
        
        # 出窗
        vowel -= nums[left]
    
    return ans
```

灵神版本
* inf 表示 python3 中的正无穷大
```python
class Solution:
    def findMaxAverage(self, nums: List[int], k: int) -> float:
        max_s = -inf  # 窗口元素和的最大值
        s = 0  # 维护窗口元素和
        for i, x in enumerate(nums):
            # 1. 进入窗口
            s += x
            if i < k - 1:  # 窗口大小不足 k
                continue
            # 2. 更新答案
            max_s = max(max_s, s)
            # 3. 离开窗口
            s -= nums[i - k + 1]
        return max_s / k
'''
作者：灵茶山艾府
链接：https://leetcode.cn/problems/maximum-average-subarray-i/solutions/3061219/mo-ban-ding-chang-hua-dong-chuang-kou-py-1jxk/
'''